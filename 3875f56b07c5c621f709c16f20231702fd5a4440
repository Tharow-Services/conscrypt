{
  "comments": [
    {
      "key": {
        "uuid": "704fe8b2_f5911ec0",
        "filename": "Android.bp",
        "patchSetId": 2
      },
      "lineNbr": 558,
      "author": {
        "id": 1373864
      },
      "writtenOn": "2020-04-01T15:47:33Z",
      "side": 1,
      "message": "Don\u0027t you need host_supported:true then?",
      "range": {
        "startLine": 558,
        "startChar": 35,
        "endLine": 558,
        "endChar": 39
      },
      "revId": "3875f56b07c5c621f709c16f20231702fd5a4440",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "17e03dfe_ae82b38b",
        "filename": "Android.bp",
        "patchSetId": 2
      },
      "lineNbr": 558,
      "author": {
        "id": 1038443
      },
      "writtenOn": "2020-04-01T15:52:18Z",
      "side": 1,
      "message": "Yes, and the libjavacrypto definition above has it :)",
      "parentUuid": "704fe8b2_f5911ec0",
      "range": {
        "startLine": 558,
        "startChar": 35,
        "endLine": 558,
        "endChar": 39
      },
      "revId": "3875f56b07c5c621f709c16f20231702fd5a4440",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "02e303c9_d2acd7ec",
        "filename": "Android.bp",
        "patchSetId": 2
      },
      "lineNbr": 558,
      "author": {
        "id": 1373864
      },
      "writtenOn": "2020-04-01T15:56:19Z",
      "side": 1,
      "message": "I meant in this module_exports. I thought it was necessary in both places to create the right prebuilt modules. But if you\u0027ve checked that this does that then I\u0027m obviously mistaken.",
      "parentUuid": "17e03dfe_ae82b38b",
      "range": {
        "startLine": 558,
        "startChar": 35,
        "endLine": 558,
        "endChar": 39
      },
      "revId": "3875f56b07c5c621f709c16f20231702fd5a4440",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "e2cad467_cf1206d1",
        "filename": "Android.bp",
        "patchSetId": 2
      },
      "lineNbr": 558,
      "author": {
        "id": 1038443
      },
      "writtenOn": "2020-04-01T16:02:36Z",
      "side": 1,
      "message": "Yeah I do get the x86 and x64 variants. I also get the arm/arm64 version as well unfortunately, but I don\u0027t think we have a host_only for such things. Paul do you know?",
      "parentUuid": "02e303c9_d2acd7ec",
      "range": {
        "startLine": 558,
        "startChar": 35,
        "endLine": 558,
        "endChar": 39
      },
      "revId": "3875f56b07c5c621f709c16f20231702fd5a4440",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "83ae1d33_ac729579",
        "filename": "Android.bp",
        "patchSetId": 2
      },
      "lineNbr": 558,
      "author": {
        "id": 1039338
      },
      "writtenOn": "2020-04-01T16:41:42Z",
      "side": 1,
      "message": "If you need host only (or host and android) then you need to do something like this:\nmodule_exports {\n....\n   host_supported: true,\n   ... any host and android member properties....\n   target: {\n      android: {\n          ...all the existing android only member properties...\n      },\n      host: {\n          ...any host only member properties...\n      },\n   },\n}\n\ne.g. if libjavacrypto only needs host variants then this will do.\n\nmodule_exports {\n    name: \"conscrypt-module-test-exports\",\n    host_supported: true,\n    target: {\n        android: {\n            java_libs: [\n                // For use by robolectric and ART tests.\n                \"conscrypt\",\n            ],\n            java_tests: [\n                // For use by CTS\n                \"conscrypt-tests\",\n            ],\n        },\n        host: {\n            native_shared_libs: [\n                // For use by ART tests on host.\n                \"libjavacrypto\",\n            ],\n        },\n    },\n}\n\ne.g. if libjavacrypto needs host and android variants then this will do.\n\nmodule_exports {\n    name: \"conscrypt-module-test-exports\",\n    host_supported: true,\n    native_shared_libs: [\n        // For use by ART tests on host.\n        \"libjavacrypto\",\n    ],\n    target: {\n        android: {\n            java_libs: [\n                // For use by robolectric and ART tests.\n                \"conscrypt\",\n            ],\n            java_tests: [\n                // For use by CTS\n                \"conscrypt-tests\",\n            ],\n        },\n    },\n}",
      "parentUuid": "e2cad467_cf1206d1",
      "range": {
        "startLine": 558,
        "startChar": 35,
        "endLine": 558,
        "endChar": 39
      },
      "revId": "3875f56b07c5c621f709c16f20231702fd5a4440",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": true
    }
  ]
}