{
  "comments": [
    {
      "unresolved": true,
      "key": {
        "uuid": "506afc0d_c812bd7e",
        "filename": "common/src/main/java/org/conscrypt/SSLParametersImpl.java",
        "patchSetId": 1
      },
      "lineNbr": 157,
      "author": {
        "id": 1334152
      },
      "writtenOn": "2024-04-16T16:35:59Z",
      "side": 1,
      "message": "I think you need to be careful with the ordering here, in case protocols is ever null (which the current code allows), e.g.\n```\nrequestedProtocols \u003d protocols \u003d\u003d null ? NativeCrypto.getDefaultProtocols() : protocols).clone();\n// Then filter\n```\nYou also need to set `isEnabledProtocolsFiltered` if any are filtered ðŸ˜Š",
      "range": {
        "startLine": 157,
        "startChar": 0,
        "endLine": 157,
        "endChar": 38
      },
      "revId": "137864fe90402bed8e5dcf99f806516688fcee07",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "6d468d18_1153d843",
        "filename": "common/src/main/java/org/conscrypt/SSLParametersImpl.java",
        "patchSetId": 1
      },
      "lineNbr": 157,
      "author": {
        "id": 1893966
      },
      "writtenOn": "2024-04-16T16:50:51Z",
      "side": 1,
      "message": "Would we not prefer to just go to the defaults in that case? I though maybe it would reduce breakages, but it would be confusing for developers to be fair. In any case, it\u0027s done, but slightly different.",
      "parentUuid": "506afc0d_c812bd7e",
      "range": {
        "startLine": 157,
        "startChar": 0,
        "endLine": 157,
        "endChar": 38
      },
      "revId": "137864fe90402bed8e5dcf99f806516688fcee07",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "2d2da54d_92abd137",
        "filename": "common/src/main/java/org/conscrypt/SSLParametersImpl.java",
        "patchSetId": 1
      },
      "lineNbr": 157,
      "author": {
        "id": 1334152
      },
      "writtenOn": "2024-04-17T07:44:31Z",
      "side": 1,
      "message": "As it happens it doesn\u0027t looks like protocols can ever be null on this code path, they come from the constructors of the subclasses of `OpenSSLContextImpl` and `DefaultSSLContextImpl`.\n\nSo maybe instead of filtering we should just ensure those constructors do the right thing... Can be in a future CL though.",
      "parentUuid": "6d468d18_1153d843",
      "range": {
        "startLine": 157,
        "startChar": 0,
        "endLine": 157,
        "endChar": 38
      },
      "revId": "137864fe90402bed8e5dcf99f806516688fcee07",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    }
  ]
}